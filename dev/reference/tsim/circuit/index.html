<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=tsim><link href=https://github.com/QuEraComputing/tsim/dev/reference/tsim/circuit/ rel=canonical><link href=../ rel=prev><link href=../compile/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.1"><title>circuit - tsim</title><link rel=stylesheet href=../../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../stylesheets/extra.css><link rel=stylesheet href=https://unpkg.com/katex@0/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#tsim.circuit class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=tsim class="md-header__button md-logo" aria-label=tsim data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> tsim </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> circuit </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/QuEraComputing/tsim title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> tsim </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../demos/encoding_demo/ class=md-tabs__link> Tutorials </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../ class=md-tabs__link> API Reference </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=tsim class="md-nav__button md-logo" aria-label=tsim data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> tsim </label> <div class=md-nav__source> <a href=https://github.com/QuEraComputing/tsim title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> tsim </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <div class="md-nav__link md-nav__container"> <a href=../../.. class="md-nav__link "> <span class=md-ellipsis> Home </span> </a> <label class="md-nav__link " for=__nav_1 id=__nav_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../install/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../../demos/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../../contrib/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../demos/encoding_demo/ class=md-nav__link> <span class=md-ellipsis> Quantum State Encoding with a Color Code </span> </a> </li> <li class=md-nav__item> <a href=../../../demos/magic_state_distillation/ class=md-nav__link> <span class=md-ellipsis> Magic state distillation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> API Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <div class="md-nav__link md-nav__container"> <a href=../ class="md-nav__link "> <span class=md-ellipsis> tsim </span> </a> <label class="md-nav__link " for=__nav_3_1 id=__nav_3_1_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> tsim </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> circuit </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> circuit </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tsim.circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;circuit </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Circuit </span> </a> <nav class=md-nav aria-label= Circuit> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_detectors class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_detectors </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_measurements class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_measurements </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_observables class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_observables </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_qubits class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_qubits </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_ticks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_ticks </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.stim_circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;stim_circuit </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__add__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__add__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__eq__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__eq__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__getitem__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__iadd__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__iadd__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__imul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__imul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__len__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__len__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__mul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__mul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__repr__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__rmul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__rmul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__str__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__str__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.append_from_stim_program_text class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append_from_stim_program_text </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.approx_equals class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;approx_equals </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.cast_to_stim class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cast_to_stim </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_detector_sampler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_detector_sampler </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_m2d_converter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_m2d_converter </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_sampler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_sampler </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.copy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;copy </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.detector_error_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detector_error_model </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.diagram class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;diagram </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.from_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_file </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.from_stim_program class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_stim_program </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.get_graph class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_graph </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.get_sampling_graph class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sampling_graph </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.inverse class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;inverse </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.pop class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pop </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.tcount class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tcount </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.to_matrix class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_matrix </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.to_tensor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_tensor </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.without_annotations class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;without_annotations </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.without_noise class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;without_noise </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_3> <div class="md-nav__link md-nav__container"> <a href=../compile/ class="md-nav__link "> <span class=md-ellipsis> compile </span> </a> <label class="md-nav__link " for=__nav_3_1_3 id=__nav_3_1_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_3> <span class="md-nav__icon md-icon"></span> compile </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../compile/compile/ class=md-nav__link> <span class=md-ellipsis> compile </span> </a> </li> <li class=md-nav__item> <a href=../compile/evaluate/ class=md-nav__link> <span class=md-ellipsis> evaluate </span> </a> </li> <li class=md-nav__item> <a href=../compile/pipeline/ class=md-nav__link> <span class=md-ellipsis> pipeline </span> </a> </li> <li class=md-nav__item> <a href=../compile/stabrank/ class=md-nav__link> <span class=md-ellipsis> stabrank </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_4> <div class="md-nav__link md-nav__container"> <a href=../core/ class="md-nav__link "> <span class=md-ellipsis> core </span> </a> <label class="md-nav__link " for=__nav_3_1_4 id=__nav_3_1_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_4> <span class="md-nav__icon md-icon"></span> core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../core/exact_scalar/ class=md-nav__link> <span class=md-ellipsis> exact_scalar </span> </a> </li> <li class=md-nav__item> <a href=../core/graph/ class=md-nav__link> <span class=md-ellipsis> graph </span> </a> </li> <li class=md-nav__item> <a href=../core/instructions/ class=md-nav__link> <span class=md-ellipsis> instructions </span> </a> </li> <li class=md-nav__item> <a href=../core/parse/ class=md-nav__link> <span class=md-ellipsis> parse </span> </a> </li> <li class=md-nav__item> <a href=../core/types/ class=md-nav__link> <span class=md-ellipsis> types </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_5> <div class="md-nav__link md-nav__container"> <a href=../noise/ class="md-nav__link "> <span class=md-ellipsis> noise </span> </a> <label class="md-nav__link " for=__nav_3_1_5 id=__nav_3_1_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_5> <span class="md-nav__icon md-icon"></span> noise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../noise/channels/ class=md-nav__link> <span class=md-ellipsis> channels </span> </a> </li> <li class=md-nav__item> <a href=../noise/dem/ class=md-nav__link> <span class=md-ellipsis> dem </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../sampler/ class=md-nav__link> <span class=md-ellipsis> sampler </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_7> <div class="md-nav__link md-nav__container"> <a href=../utils/ class="md-nav__link "> <span class=md-ellipsis> utils </span> </a> <label class="md-nav__link " for=__nav_3_1_7 id=__nav_3_1_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1_7> <span class="md-nav__icon md-icon"></span> utils </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../utils/diagram/ class=md-nav__link> <span class=md-ellipsis> diagram </span> </a> </li> <li class=md-nav__item> <a href=../utils/encoder/ class=md-nav__link> <span class=md-ellipsis> encoder </span> </a> </li> <li class=md-nav__item> <a href=../utils/linalg/ class=md-nav__link> <span class=md-ellipsis> linalg </span> </a> </li> <li class=md-nav__item> <a href=../utils/program_text/ class=md-nav__link> <span class=md-ellipsis> program_text </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tsim.circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-module"></code>&nbsp;circuit </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;Circuit </span> </a> <nav class=md-nav aria-label= Circuit> <ul class=md-nav__list> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_detectors class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_detectors </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_measurements class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_measurements </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_observables class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_observables </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_qubits class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_qubits </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.num_ticks class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;num_ticks </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.stim_circuit class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-attribute"></code>&nbsp;stim_circuit </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__add__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__add__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__eq__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__eq__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__getitem__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__getitem__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__iadd__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__iadd__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__imul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__imul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__len__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__len__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__mul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__mul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__repr__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__repr__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__rmul__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__rmul__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.__str__ class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;__str__ </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.append_from_stim_program_text class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;append_from_stim_program_text </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.approx_equals class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;approx_equals </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.cast_to_stim class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;cast_to_stim </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_detector_sampler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_detector_sampler </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_m2d_converter class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_m2d_converter </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.compile_sampler class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compile_sampler </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.copy class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;copy </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.detector_error_model class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;detector_error_model </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.diagram class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;diagram </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.from_file class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_file </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.from_stim_program class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;from_stim_program </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.get_graph class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_graph </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.get_sampling_graph class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get_sampling_graph </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.inverse class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;inverse </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.pop class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;pop </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.tcount class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;tcount </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.to_matrix class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_matrix </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.to_tensor class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;to_tensor </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.without_annotations class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;without_annotations </span> </a> </li> <li class=md-nav__item> <a href=#tsim.circuit.Circuit.without_noise class=md-nav__link> <span class=md-ellipsis> <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;without_noise </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/QuEraComputing/tsim/edit/main/src/tsim/circuit.py title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/QuEraComputing/tsim/raw/main/src/tsim/circuit.py title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1>circuit</h1> <div class="doc doc-object doc-module"> <a id=tsim.circuit></a> <div class="doc doc-contents first"> <p>Quantum circuit wrapper around stim.Circuit with non-Clifford gate support.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 id=tsim.circuit.Circuit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code> <span class="doc doc-object-name doc-class-name">Circuit</span> </h2> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>Circuit</span><span class=p>(</span><span class=n>stim_program_text</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Quantum circuit as a thin wrapper around stim.Circuit.</p> <p>Circuits are constructed like stim circuits:</p> <pre><code>    &gt;&gt;&gt; circuit = Circuit('''
    ...     H 0
    ...     T 0
    ...     CNOT 0 1
    ...     M 0 1
    ... ''')
</code></pre> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stim_program_text</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>Stim program text to parse. If empty, creates an empty circuit.</p> </div> </td> <td> <code>&#39;&#39;</code> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stim_program_text</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Initialize circuit from stim program text.</span>

<span class=sd>    Args:</span>
<span class=sd>        stim_program_text: Stim program text to parse. If empty, creates an</span>
<span class=sd>            empty circuit.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>=</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>(</span><span class=n>shorthand_to_stim</span><span class=p>(</span><span class=n>stim_program_text</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.num_detectors class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">num_detectors</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>num_detectors</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Counts the number of bits produced when sampling the circuit's detectors.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.num_measurements class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">num_measurements</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>num_measurements</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Counts the number of bits produced when sampling the circuit's measurements.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.num_observables class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">num_observables</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>num_observables</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Counts the number of bits produced when sampling the circuit's logical observables.</p> <p>This is one more than the largest observable index given to OBSERVABLE_INCLUDE.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.num_qubits class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">num_qubits</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>num_qubits</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Counts the number of qubits used when simulating the circuit.</p> <p>This is always one more than the largest qubit index used by the circuit.</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.num_ticks class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">num_ticks</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>num_ticks</span><span class=p>:</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Counts the number of TICK instructions executed when running the circuit.</p> <p>TICKs in loops are counted once per iteration.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>The number of ticks executed by the circuit.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-attribute"> <h3 id=tsim.circuit.Circuit.stim_circuit class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code> <span class="doc doc-object-name doc-attribute-name">stim_circuit</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=n>stim_circuit</span><span class=p>:</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the underlying stim circuit.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__add__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__add__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__add__</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n>Circuit</span> <span class=o>|</span> <span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a new circuit with another circuit appended.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>109</span>
<span class=normal>110</span>
<span class=normal>111</span>
<span class=normal>112</span>
<span class=normal>113</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__add__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=n>Circuit</span> <span class=o>|</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a new circuit with another circuit appended.&quot;&quot;&quot;</span>
    <span class=n>result</span> <span class=o>=</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>copy</span><span class=p>())</span>
    <span class=n>result</span> <span class=o>+=</span> <span class=n>other</span>
    <span class=k>return</span> <span class=n>result</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__eq__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__eq__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__eq__</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check equality with another circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>95</span>
<span class=normal>96</span>
<span class=normal>97</span>
<span class=normal>98</span>
<span class=normal>99</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__eq__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check equality with another circuit.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Circuit</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>==</span> <span class=n>other</span><span class=o>.</span><span class=n>_stim_circ</span>
    <span class=k>return</span> <span class=bp>NotImplemented</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__getitem__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__getitem__</span> </h3> <div class=doc-overloads> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__getitem__</span><span class=p>(</span><span class=n>index_or_slice</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitInstruction</span>
</code></pre></div><div class="doc-signature highlight"><pre><span></span><code><span class=nf>__getitem__</span><span class=p>(</span><span class=n>index_or_slice</span><span class=p>:</span> <span class=nb>slice</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> </div> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__getitem__</span><span class=p>(</span><span class=n>index_or_slice</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>object</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return copies of instructions from the circuit.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>index_or_slice</code> </td> <td> <code><span title=object>object</span></code> </td> <td> <div class=doc-md-description> <p>An integer index picking out an instruction to return, or a slice picking out a range of instructions to return as a circuit.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=object>object</span></code> </td> <td> <div class=doc-md-description> <p>If the index was an integer, then an instruction from the circuit.</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=object>object</span></code> </td> <td> <div class=doc-md-description> <p>If the index was a slice, then a circuit made up of the instructions in that</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=object>object</span></code> </td> <td> <div class=doc-md-description> <p>slice.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>141</span>
<span class=normal>142</span>
<span class=normal>143</span>
<span class=normal>144</span>
<span class=normal>145</span>
<span class=normal>146</span>
<span class=normal>147</span>
<span class=normal>148</span>
<span class=normal>149</span>
<span class=normal>150</span>
<span class=normal>151</span>
<span class=normal>152</span>
<span class=normal>153</span>
<span class=normal>154</span>
<span class=normal>155</span>
<span class=normal>156</span>
<span class=normal>157</span>
<span class=normal>158</span>
<span class=normal>159</span>
<span class=normal>160</span>
<span class=normal>161</span>
<span class=normal>162</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__getitem__</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>index_or_slice</span><span class=p>:</span> <span class=nb>object</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>object</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return copies of instructions from the circuit.</span>

<span class=sd>    Args:</span>
<span class=sd>        index_or_slice: An integer index picking out an instruction to return, or a</span>
<span class=sd>            slice picking out a range of instructions to return as a circuit.</span>

<span class=sd>    Returns:</span>
<span class=sd>        If the index was an integer, then an instruction from the circuit.</span>
<span class=sd>        If the index was a slice, then a circuit made up of the instructions in that</span>
<span class=sd>        slice.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>index_or_slice</span><span class=p>,</span> <span class=nb>int</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>[</span><span class=n>index_or_slice</span><span class=p>]</span>
    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>index_or_slice</span><span class=p>,</span> <span class=nb>slice</span><span class=p>):</span>
        <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>[</span><span class=n>index_or_slice</span><span class=p>])</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=sa>f</span><span class=s2>&quot;Invalid index or slice: </span><span class=si>{</span><span class=n>index_or_slice</span><span class=si>}</span><span class=s2>&quot;</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__iadd__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__iadd__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__iadd__</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n>Circuit</span> <span class=o>|</span> <span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Append another circuit to this circuit in-place.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>101</span>
<span class=normal>102</span>
<span class=normal>103</span>
<span class=normal>104</span>
<span class=normal>105</span>
<span class=normal>106</span>
<span class=normal>107</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__iadd__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>other</span><span class=p>:</span> <span class=n>Circuit</span> <span class=o>|</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Append another circuit to this circuit in-place.&quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Circuit</span><span class=p>):</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>+=</span> <span class=n>other</span><span class=o>.</span><span class=n>_stim_circ</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>+=</span> <span class=n>other</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__imul__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__imul__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__imul__</span><span class=p>(</span><span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Repeat this circuit in-place.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>115</span>
<span class=normal>116</span>
<span class=normal>117</span>
<span class=normal>118</span>
<span class=normal>119</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__imul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Repeat this circuit in-place.&quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>*=</span> <span class=n>repetitions</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>flattened</span><span class=p>()</span>
    <span class=k>return</span> <span class=bp>self</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__len__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__len__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__len__</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the number of instructions in the circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>91</span>
<span class=normal>92</span>
<span class=normal>93</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__len__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the number of instructions in the circuit.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__mul__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__mul__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__mul__</span><span class=p>(</span><span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a new circuit repeated the given number of times.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>121</span>
<span class=normal>122</span>
<span class=normal>123</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__mul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a new circuit repeated the given number of times.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>*</span> <span class=n>repetitions</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__repr__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__repr__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__repr__</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a string representation that can recreate the circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>83</span>
<span class=normal>84</span>
<span class=normal>85</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__repr__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a string representation that can recreate the circuit.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=sa>f</span><span class=s2>&quot;tsim.Circuit(&#39;&#39;&#39;</span><span class=se>\n</span><span class=si>{</span><span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span><span class=si>}</span><span class=se>\n</span><span class=s2>&#39;&#39;&#39;)&quot;</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__rmul__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__rmul__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__rmul__</span><span class=p>(</span><span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a new circuit repeated the given number of times.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>125</span>
<span class=normal>126</span>
<span class=normal>127</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__rmul__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>repetitions</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a new circuit repeated the given number of times.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span> <span class=o>*</span> <span class=n>repetitions</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.__str__ class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">__str__</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>__str__</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>str</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the circuit as program text.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>87</span>
<span class=normal>88</span>
<span class=normal>89</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=fm>__str__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the circuit as program text.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>stim_to_shorthand</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>))</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.append_from_stim_program_text class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">append_from_stim_program_text</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>append_from_stim_program_text</span><span class=p>(</span>
    <span class=n>stim_program_text</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span>
</code></pre></div> <div class="doc doc-contents "> <p>Append operations described by a STIM format program into the circuit.</p> <p>Supports the same shorthand syntax as the constructor.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>append_from_stim_program_text</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>stim_program_text</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Append operations described by a STIM format program into the circuit.</span>

<span class=sd>    Supports the same shorthand syntax as the constructor.</span>
<span class=sd>    &quot;&quot;&quot;</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>append_from_stim_program_text</span><span class=p>(</span>
        <span class=n>shorthand_to_stim</span><span class=p>(</span><span class=n>stim_program_text</span><span class=p>)</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.approx_equals class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">approx_equals</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>approx_equals</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>atol</span><span class=p>:</span> <span class=nb>float</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span>
</code></pre></div> <div class="doc doc-contents "> <p>Check if a circuit is approximately equal to another circuit.</p> <p>Two circuits are approximately equal if they are equal up to slight perturbations of instruction arguments such as probabilities. For example, <code>X_ERROR(0.100) 0</code> is approximately equal to <code>X_ERROR(0.099)</code> within an absolute tolerance of 0.002. All other details of the circuits (such as the ordering of instructions and targets) must be exactly the same.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>other</code> </td> <td> <code><span title=object>object</span></code> </td> <td> <div class=doc-md-description> <p>The circuit, or other object, to compare to this one.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>atol</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>The absolute error tolerance. The maximum amount each probability may have been perturbed by.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>True if the given object is a circuit approximately equal up to the</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>receiving circuit up to the given tolerance, otherwise False.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>164</span>
<span class=normal>165</span>
<span class=normal>166</span>
<span class=normal>167</span>
<span class=normal>168</span>
<span class=normal>169</span>
<span class=normal>170</span>
<span class=normal>171</span>
<span class=normal>172</span>
<span class=normal>173</span>
<span class=normal>174</span>
<span class=normal>175</span>
<span class=normal>176</span>
<span class=normal>177</span>
<span class=normal>178</span>
<span class=normal>179</span>
<span class=normal>180</span>
<span class=normal>181</span>
<span class=normal>182</span>
<span class=normal>183</span>
<span class=normal>184</span>
<span class=normal>185</span>
<span class=normal>186</span>
<span class=normal>187</span>
<span class=normal>188</span>
<span class=normal>189</span>
<span class=normal>190</span>
<span class=normal>191</span>
<span class=normal>192</span>
<span class=normal>193</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>approx_equals</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>other</span><span class=p>:</span> <span class=nb>object</span><span class=p>,</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>atol</span><span class=p>:</span> <span class=nb>float</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>bool</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Check if a circuit is approximately equal to another circuit.</span>

<span class=sd>    Two circuits are approximately equal if they are equal up to slight</span>
<span class=sd>    perturbations of instruction arguments such as probabilities. For example,</span>
<span class=sd>    `X_ERROR(0.100) 0` is approximately equal to `X_ERROR(0.099)` within an absolute</span>
<span class=sd>    tolerance of 0.002. All other details of the circuits (such as the ordering of</span>
<span class=sd>    instructions and targets) must be exactly the same.</span>

<span class=sd>    Args:</span>
<span class=sd>        other: The circuit, or other object, to compare to this one.</span>
<span class=sd>        atol: The absolute error tolerance. The maximum amount each probability may</span>
<span class=sd>            have been perturbed by.</span>

<span class=sd>    Returns:</span>
<span class=sd>        True if the given object is a circuit approximately equal up to the</span>
<span class=sd>        receiving circuit up to the given tolerance, otherwise False.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>Circuit</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>approx_equals</span><span class=p>(</span><span class=n>other</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>,</span> <span class=n>atol</span><span class=o>=</span><span class=n>atol</span><span class=p>)</span>
    <span class=k>elif</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>):</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>approx_equals</span><span class=p>(</span><span class=n>other</span><span class=p>,</span> <span class=n>atol</span><span class=o>=</span><span class=n>atol</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=kc>False</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.cast_to_stim class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">cast_to_stim</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>cast_to_stim</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return self with type cast to stim.Circuit. This is useful for passing the circuit to functions that expect a stim.Circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>588</span>
<span class=normal>589</span>
<span class=normal>590</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>cast_to_stim</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return self with type cast to stim.Circuit. This is useful for passing the circuit to functions that expect a stim.Circuit.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>cast</span><span class=p>(</span><span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>,</span> <span class=bp>self</span><span class=p>)</span>  <span class=c1># pragma: no cover</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.compile_detector_sampler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">compile_detector_sampler</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>compile_detector_sampler</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>seed</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Compile circuit into a detector sampler.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>seed</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Random seed for the sampler. If None, a random seed will be generated.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A CompiledDetectorSampler that can be used to sample detectors and observables.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>574</span>
<span class=normal>575</span>
<span class=normal>576</span>
<span class=normal>577</span>
<span class=normal>578</span>
<span class=normal>579</span>
<span class=normal>580</span>
<span class=normal>581</span>
<span class=normal>582</span>
<span class=normal>583</span>
<span class=normal>584</span>
<span class=normal>585</span>
<span class=normal>586</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compile_detector_sampler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>seed</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Compile circuit into a detector sampler.</span>

<span class=sd>    Args:</span>
<span class=sd>        seed: Random seed for the sampler. If None, a random seed will be generated.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A CompiledDetectorSampler that can be used to sample detectors and observables.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>tsim.sampler</span><span class=w> </span><span class=kn>import</span> <span class=n>CompiledDetectorSampler</span>

    <span class=k>return</span> <span class=n>CompiledDetectorSampler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>seed</span><span class=o>=</span><span class=n>seed</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.compile_m2d_converter class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">compile_m2d_converter</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>compile_m2d_converter</span><span class=p>(</span>
    <span class=o>*</span><span class=p>,</span> <span class=n>skip_reference_sample</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>CompiledMeasurementsToDetectionEventsConverter</span>
</code></pre></div> <div class="doc doc-contents "> <p>Create a measurement-to-detection-event converter for the given circuit.</p> <p>The converter can efficiently compute detection events and observable flips from raw measurement data.</p> <p>The converter uses a noiseless reference sample, collected from the circuit using stim's Tableau simulator during initialization of the converter, as a baseline for determining what the expected value of a detector is.</p> <p>Note that the expected behavior of gauge detectors (detectors that are not actually deterministic under noiseless execution) can vary depending on the reference sample. Stim mitigates this by always generating the same reference sample for a given circuit.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>skip_reference_sample</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to False. When set to True, the reference sample used by the converter is initialized to all-zeroes instead of being collected from the circuit. This should only be used if it's known that the all-zeroes sample is actually a possible result from the circuit (under noiseless execution).</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=stim.CompiledMeasurementsToDetectionEventsConverter>CompiledMeasurementsToDetectionEventsConverter</span></code> </td> <td> <div class=doc-md-description> <p>An initialized stim.CompiledMeasurementsToDetectionEventsConverter.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>195</span>
<span class=normal>196</span>
<span class=normal>197</span>
<span class=normal>198</span>
<span class=normal>199</span>
<span class=normal>200</span>
<span class=normal>201</span>
<span class=normal>202</span>
<span class=normal>203</span>
<span class=normal>204</span>
<span class=normal>205</span>
<span class=normal>206</span>
<span class=normal>207</span>
<span class=normal>208</span>
<span class=normal>209</span>
<span class=normal>210</span>
<span class=normal>211</span>
<span class=normal>212</span>
<span class=normal>213</span>
<span class=normal>214</span>
<span class=normal>215</span>
<span class=normal>216</span>
<span class=normal>217</span>
<span class=normal>218</span>
<span class=normal>219</span>
<span class=normal>220</span>
<span class=normal>221</span>
<span class=normal>222</span>
<span class=normal>223</span>
<span class=normal>224</span>
<span class=normal>225</span>
<span class=normal>226</span>
<span class=normal>227</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compile_m2d_converter</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>skip_reference_sample</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>CompiledMeasurementsToDetectionEventsConverter</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a measurement-to-detection-event converter for the given circuit.</span>

<span class=sd>    The converter can efficiently compute detection events and observable flips</span>
<span class=sd>    from raw measurement data.</span>

<span class=sd>    The converter uses a noiseless reference sample, collected from the circuit</span>
<span class=sd>    using stim&#39;s Tableau simulator during initialization of the converter, as a</span>
<span class=sd>    baseline for determining what the expected value of a detector is.</span>

<span class=sd>    Note that the expected behavior of gauge detectors (detectors that are not</span>
<span class=sd>    actually deterministic under noiseless execution) can vary depending on the</span>
<span class=sd>    reference sample. Stim mitigates this by always generating the same reference</span>
<span class=sd>    sample for a given circuit.</span>

<span class=sd>    Args:</span>
<span class=sd>        skip_reference_sample: Defaults to False. When set to True, the reference</span>
<span class=sd>            sample used by the converter is initialized to all-zeroes instead of</span>
<span class=sd>            being collected from the circuit. This should only be used if it&#39;s known</span>
<span class=sd>            that the all-zeroes sample is actually a possible result from the</span>
<span class=sd>            circuit (under noiseless execution).</span>

<span class=sd>    Returns:</span>
<span class=sd>        An initialized stim.CompiledMeasurementsToDetectionEventsConverter.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>compile_m2d_converter</span><span class=p>(</span>
        <span class=n>skip_reference_sample</span><span class=o>=</span><span class=n>skip_reference_sample</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.compile_sampler class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">compile_sampler</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>compile_sampler</span><span class=p>(</span><span class=o>*</span><span class=p>,</span> <span class=n>seed</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-contents "> <p>Compile circuit into a measurement sampler.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>seed</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>Random seed for the sampler. If None, a random seed will be generated.</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A CompiledMeasurementSampler that can be used to sample measurements.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>560</span>
<span class=normal>561</span>
<span class=normal>562</span>
<span class=normal>563</span>
<span class=normal>564</span>
<span class=normal>565</span>
<span class=normal>566</span>
<span class=normal>567</span>
<span class=normal>568</span>
<span class=normal>569</span>
<span class=normal>570</span>
<span class=normal>571</span>
<span class=normal>572</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>compile_sampler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>seed</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Compile circuit into a measurement sampler.</span>

<span class=sd>    Args:</span>
<span class=sd>        seed: Random seed for the sampler. If None, a random seed will be generated.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A CompiledMeasurementSampler that can be used to sample measurements.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=kn>from</span><span class=w> </span><span class=nn>tsim.sampler</span><span class=w> </span><span class=kn>import</span> <span class=n>CompiledMeasurementSampler</span>

    <span class=k>return</span> <span class=n>CompiledMeasurementSampler</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>seed</span><span class=o>=</span><span class=n>seed</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.copy class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">copy</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>copy</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Create a copy of this circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>294</span>
<span class=normal>295</span>
<span class=normal>296</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>copy</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a copy of this circuit.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>copy</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.detector_error_model class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">detector_error_model</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>detector_error_model</span><span class=p>(</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>decompose_errors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>flatten_loops</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>allow_gauge_detectors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>approximate_disjoint_errors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>ignore_decomposition_failures</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>block_decomposition_from_introducing_remnant_edges</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>DetectorErrorModel</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a stim.DetectorErrorModel describing the error processes in the circuit.</p> <p>Unlike the stim.Circuit.detector_error_model() method, this method allows for non-deterministic observables when <code>allow_gauge_detectors</code> is set to true.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>decompose_errors</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to false. When set to true, the error analysis attempts to decompose the components of composite error mechanisms (such as depolarization errors) into simpler errors, and suggest this decomposition via <code>stim.target_separator()</code> between the components. For example, in an XZ surface code, single qubit depolarization has a Y error term which can be decomposed into simpler X and Z error terms. Decomposition fails (causing this method to throw) if it's not possible to decompose large errors into simple errors that affect at most two detectors.</p> <p>This is not supported by tsim and setting it to true will raise an error. The argument is present for compatibility with stim.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>flatten_loops</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to false. When set to true, the output will not contain any <code>repeat</code> blocks. When set to false, the error analysis watches for loops in the circuit reaching a periodic steady state with respect to the detectors being introduced, the error mechanisms that affect them, and the locations of the logical observables. When it identifies such a steady state, it outputs a repeat block. This is massively more efficient than flattening for circuits that contain loops, but creates a more complex output.</p> <p>Irrelevant unless allow_gauge_detectors=False.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>allow_gauge_detectors</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to false. When set to false, the error analysis verifies that detectors in the circuit are actually deterministic under noiseless execution of the circuit.</p> <p>Note that, unlike in stim, logical observables are also allowed to be non-deterministic.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>approximate_disjoint_errors</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to false. When set to false, composite error mechanisms with disjoint components (such as <code>PAULI_CHANNEL_1(0.1, 0.2, 0.0)</code>) can cause the error analysis to throw exceptions (because detector error models can only contain independent error mechanisms). When set to true, the probabilities of the disjoint cases are instead assumed to be independent probabilities. For example, a <code>`PAULI_CHANNEL_1(0.1, 0.2, 0.0)</code> becomes equivalent to an <code>X_ERROR(0.1)</code> followed by a <code>Z_ERROR(0.2)</code>. This assumption is an approximation, but it is a good approximation for small probabilities.</p> <p>This argument can also be set to a probability between 0 and 1, setting a threshold below which the approximation is acceptable. Any error mechanisms that have a component probability above the threshold will cause an exception to be thrown.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>ignore_decomposition_failures</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to False. When this is set to True, circuit errors that fail to decompose into graphlike detector error model errors no longer cause the conversion process to abort. Instead, the undecomposed error is inserted into the output. Whatever tool the detector error model is then given to is responsible for dealing with the undecomposed errors (e.g. a tool may choose to simply ignore them).</p> <p>Irrelevant unless decompose_errors=True.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>block_decomposition_from_introducing_remnant_edges</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to False. Requires that both A B and C D be present elsewhere in the detector error model in order to decompose A B C D into A B ^ C D. Normally, only one of A B or C D needs to appear to allow this decomposition.</p> <p>Remnant edges can be a useful feature for ensuring decomposition succeeds, but they can also reduce the effective code distance by giving the decoder single edges that actually represent multiple errors in the circuit (resulting in the decoder making misinformed choices when decoding).</p> <p>Irrelevant unless decompose_errors=True.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>312</span>
<span class=normal>313</span>
<span class=normal>314</span>
<span class=normal>315</span>
<span class=normal>316</span>
<span class=normal>317</span>
<span class=normal>318</span>
<span class=normal>319</span>
<span class=normal>320</span>
<span class=normal>321</span>
<span class=normal>322</span>
<span class=normal>323</span>
<span class=normal>324</span>
<span class=normal>325</span>
<span class=normal>326</span>
<span class=normal>327</span>
<span class=normal>328</span>
<span class=normal>329</span>
<span class=normal>330</span>
<span class=normal>331</span>
<span class=normal>332</span>
<span class=normal>333</span>
<span class=normal>334</span>
<span class=normal>335</span>
<span class=normal>336</span>
<span class=normal>337</span>
<span class=normal>338</span>
<span class=normal>339</span>
<span class=normal>340</span>
<span class=normal>341</span>
<span class=normal>342</span>
<span class=normal>343</span>
<span class=normal>344</span>
<span class=normal>345</span>
<span class=normal>346</span>
<span class=normal>347</span>
<span class=normal>348</span>
<span class=normal>349</span>
<span class=normal>350</span>
<span class=normal>351</span>
<span class=normal>352</span>
<span class=normal>353</span>
<span class=normal>354</span>
<span class=normal>355</span>
<span class=normal>356</span>
<span class=normal>357</span>
<span class=normal>358</span>
<span class=normal>359</span>
<span class=normal>360</span>
<span class=normal>361</span>
<span class=normal>362</span>
<span class=normal>363</span>
<span class=normal>364</span>
<span class=normal>365</span>
<span class=normal>366</span>
<span class=normal>367</span>
<span class=normal>368</span>
<span class=normal>369</span>
<span class=normal>370</span>
<span class=normal>371</span>
<span class=normal>372</span>
<span class=normal>373</span>
<span class=normal>374</span>
<span class=normal>375</span>
<span class=normal>376</span>
<span class=normal>377</span>
<span class=normal>378</span>
<span class=normal>379</span>
<span class=normal>380</span>
<span class=normal>381</span>
<span class=normal>382</span>
<span class=normal>383</span>
<span class=normal>384</span>
<span class=normal>385</span>
<span class=normal>386</span>
<span class=normal>387</span>
<span class=normal>388</span>
<span class=normal>389</span>
<span class=normal>390</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>detector_error_model</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=o>*</span><span class=p>,</span>
    <span class=n>decompose_errors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>flatten_loops</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>allow_gauge_detectors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>approximate_disjoint_errors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>ignore_decomposition_failures</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
    <span class=n>block_decomposition_from_introducing_remnant_edges</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>DetectorErrorModel</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a stim.DetectorErrorModel describing the error processes in the circuit.</span>

<span class=sd>    Unlike the stim.Circuit.detector_error_model() method, this method allows for non-deterministic observables</span>
<span class=sd>    when `allow_gauge_detectors` is set to true.</span>

<span class=sd>    Args:</span>
<span class=sd>        decompose_errors: Defaults to false. When set to true, the error analysis attempts to decompose the</span>
<span class=sd>            components of composite error mechanisms (such as depolarization errors) into simpler errors, and</span>
<span class=sd>            suggest this decomposition via `stim.target_separator()` between the components. For example, in an</span>
<span class=sd>            XZ surface code, single qubit depolarization has a Y error term which can be decomposed into simpler</span>
<span class=sd>            X and Z error terms. Decomposition fails (causing this method to throw) if it&#39;s not possible to</span>
<span class=sd>            decompose large errors into simple errors that affect at most two detectors.</span>

<span class=sd>            This is not supported by tsim and setting it to true will raise an error. The argument is present</span>
<span class=sd>            for compatibility with stim.</span>
<span class=sd>        flatten_loops: Defaults to false. When set to true, the output will not contain any `repeat` blocks.</span>
<span class=sd>            When set to false, the error analysis watches for loops in the circuit reaching a periodic steady</span>
<span class=sd>            state with respect to the detectors being introduced, the error mechanisms that affect them, and the</span>
<span class=sd>            locations of the logical observables. When it identifies such a steady state, it outputs a repeat</span>
<span class=sd>            block. This is massively more efficient than flattening for circuits that contain loops, but creates</span>
<span class=sd>            a more complex output.</span>

<span class=sd>            Irrelevant unless allow_gauge_detectors=False.</span>
<span class=sd>        allow_gauge_detectors: Defaults to false. When set to false, the error analysis verifies that detectors</span>
<span class=sd>            in the circuit are actually deterministic under noiseless execution of the circuit.</span>

<span class=sd>            Note that, unlike in stim, logical observables are also allowed to be non-deterministic.</span>
<span class=sd>        approximate_disjoint_errors: Defaults to false. When set to false, composite error mechanisms with</span>
<span class=sd>            disjoint components (such as `PAULI_CHANNEL_1(0.1, 0.2, 0.0)`) can cause the error analysis to throw</span>
<span class=sd>            exceptions (because detector error models can only contain independent error mechanisms). When set</span>
<span class=sd>            to true, the probabilities of the disjoint cases are instead assumed to be independent</span>
<span class=sd>            probabilities. For example, a ``PAULI_CHANNEL_1(0.1, 0.2, 0.0)` becomes equivalent to an</span>
<span class=sd>            `X_ERROR(0.1)` followed by a `Z_ERROR(0.2)`. This assumption is an approximation, but it is a good</span>
<span class=sd>            approximation for small probabilities.</span>

<span class=sd>            This argument can also be set to a probability between 0 and 1, setting a threshold below which the</span>
<span class=sd>            approximation is acceptable. Any error mechanisms that have a component probability above the</span>
<span class=sd>            threshold will cause an exception to be thrown.</span>
<span class=sd>        ignore_decomposition_failures: Defaults to False.</span>
<span class=sd>            When this is set to True, circuit errors that fail to decompose into graphlike</span>
<span class=sd>            detector error model errors no longer cause the conversion process to abort.</span>
<span class=sd>            Instead, the undecomposed error is inserted into the output. Whatever tool</span>
<span class=sd>            the detector error model is then given to is responsible for dealing with the</span>
<span class=sd>            undecomposed errors (e.g. a tool may choose to simply ignore them).</span>

<span class=sd>            Irrelevant unless decompose_errors=True.</span>
<span class=sd>        block_decomposition_from_introducing_remnant_edges: Defaults to False.</span>
<span class=sd>            Requires that both A B and C D be present elsewhere in the detector error model</span>
<span class=sd>            in order to decompose A B C D into A B ^ C D. Normally, only one of A B or C D</span>
<span class=sd>            needs to appear to allow this decomposition.</span>

<span class=sd>            Remnant edges can be a useful feature for ensuring decomposition succeeds, but</span>
<span class=sd>            they can also reduce the effective code distance by giving the decoder single</span>
<span class=sd>            edges that actually represent multiple errors in the circuit (resulting in the</span>
<span class=sd>            decoder making misinformed choices when decoding).</span>

<span class=sd>            Irrelevant unless decompose_errors=True.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>get_detector_error_model</span><span class=p>(</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>,</span>
        <span class=n>allow_non_deterministic_observables</span><span class=o>=</span><span class=kc>True</span><span class=p>,</span>
        <span class=n>decompose_errors</span><span class=o>=</span><span class=n>decompose_errors</span><span class=p>,</span>
        <span class=n>flatten_loops</span><span class=o>=</span><span class=n>flatten_loops</span><span class=p>,</span>
        <span class=n>allow_gauge_detectors</span><span class=o>=</span><span class=n>allow_gauge_detectors</span><span class=p>,</span>
        <span class=n>approximate_disjoint_errors</span><span class=o>=</span><span class=n>approximate_disjoint_errors</span><span class=p>,</span>
        <span class=n>ignore_decomposition_failures</span><span class=o>=</span><span class=n>ignore_decomposition_failures</span><span class=p>,</span>
        <span class=n>block_decomposition_from_introducing_remnant_edges</span><span class=o>=</span><span class=n>block_decomposition_from_introducing_remnant_edges</span><span class=p>,</span>
    <span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.diagram class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">diagram</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>diagram</span><span class=p>(</span>
    <span class=nb>type</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span>
        <span class=s2>&quot;pyzx&quot;</span><span class=p>,</span>
        <span class=s2>&quot;pyzx-dets&quot;</span><span class=p>,</span>
        <span class=s2>&quot;pyzx-meas&quot;</span><span class=p>,</span>
        <span class=s2>&quot;timeline-svg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;timeslice-svg&quot;</span><span class=p>,</span>
    <span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;timeline-svg&quot;</span><span class=p>,</span>
    <span class=n>tick</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>range</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>filter_coords</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Iterable</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>|</span> <span class=n>DemTarget</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span>
        <span class=p>(),</span>
    <span class=p>),</span>
    <span class=n>rows</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>height</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>width</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a diagram of the circuit, from a variety of options.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>type</code> </td> <td> <code><span title=typing.Literal>Literal</span>[&#39;pyzx&#39;, &#39;pyzx-dets&#39;, &#39;pyzx-meas&#39;, &#39;timeline-svg&#39;, &#39;timeslice-svg&#39;]</code> </td> <td> <div class=doc-md-description> <p>The type of diagram. Available types are: "pyzx": A pyzx SVG of the ZX diagram of the circuit. "pyzx-dets": A pyzx SVG of the ZX diagram that is used to compute probabilities of detectors and observables. "pyzx-meas": A pyzx SVG of the ZX diagram that is used to compute probabilities of measurements. "timeline-svg": An SVG image of the operations applied by the circuit over time. Includes annotations showing the measurement record index that each measurement writes to, and the measurements used by detectors. "timeslice-svg": An SVG image of the operations applied between two TICK instructions in the circuit, with the operations laid out in 2d.</p> </div> </td> <td> <code>&#39;timeline-svg&#39;</code> </td> </tr> <tr class=doc-section-item> <td> <code>tick</code> </td> <td> <code><span title=int>int</span> | <span title=range>range</span> | None</code> </td> <td> <div class=doc-md-description> <p>Required for time slice diagrams. Specifies which TICK instruction, or range of TICK instructions, to slice at. Note that the first TICK instruction in the circuit corresponds tick=1. The value tick=0 refers to the very start of the circuit.</p> <p>Passing <code>range(A, B)</code> for a detector slice will show the slices for ticks A through B including A but excluding B.</p> <p>Passing <code>range(A, B)</code> for a time slice will show the operations between tick A and tick B.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>rows</code> </td> <td> <code><span title=int>int</span> | None</code> </td> <td> <div class=doc-md-description> <p>In diagrams that have multiple separate pieces, such as timeslice diagrams and detslice diagrams, this controls how many rows of pieces there will be. If not specified, a number of rows that creates a roughly square layout will be chosen.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>filter_coords</code> </td> <td> <code><span title=typing.Iterable>Iterable</span>[<span title=typing.Iterable>Iterable</span>[<span title=float>float</span>] | <span title=stim.DemTarget>DemTarget</span>]</code> </td> <td> <div class=doc-md-description> <p>A list of things to include in the diagram. Different effects depending on the diagram.</p> <p>For detslice diagrams, the filter defaults to showing all detectors and no observables. When specified, each list entry can be a collection of floats (detectors whose coordinates start with the same numbers will be included), a stim.DemTarget (specifying a detector or observable to include), a string like "D5" or "L0" specifying a detector or observable to include.</p> </div> </td> <td> <code>((),)</code> </td> </tr> <tr class=doc-section-item> <td> <code>height</code> </td> <td> <code><span title=float>float</span> | None</code> </td> <td> <div class=doc-md-description> <p>Optional height for the rendered diagram.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>width</code> </td> <td> <code><span title=float>float</span> | None</code> </td> <td> <div class=doc-md-description> <p>Optional width for the rendered diagram.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>**kwargs</code> </td> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>Additional keyword arguments passed to the underlying diagram renderer.</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>An object whose <code>__str__</code> method returns the diagram, so that</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>writing the diagram to a file works correctly. The returned</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>object may also define methods such as <code>_repr_html_</code>, so that</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>ipython notebooks recognize it can be shown using a specialized</p> </div> </td> </tr> <tr class=doc-section-item> <td> <code><span title=typing.Any>Any</span></code> </td> <td> <div class=doc-md-description> <p>viewer instead of as raw text.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>392</span>
<span class=normal>393</span>
<span class=normal>394</span>
<span class=normal>395</span>
<span class=normal>396</span>
<span class=normal>397</span>
<span class=normal>398</span>
<span class=normal>399</span>
<span class=normal>400</span>
<span class=normal>401</span>
<span class=normal>402</span>
<span class=normal>403</span>
<span class=normal>404</span>
<span class=normal>405</span>
<span class=normal>406</span>
<span class=normal>407</span>
<span class=normal>408</span>
<span class=normal>409</span>
<span class=normal>410</span>
<span class=normal>411</span>
<span class=normal>412</span>
<span class=normal>413</span>
<span class=normal>414</span>
<span class=normal>415</span>
<span class=normal>416</span>
<span class=normal>417</span>
<span class=normal>418</span>
<span class=normal>419</span>
<span class=normal>420</span>
<span class=normal>421</span>
<span class=normal>422</span>
<span class=normal>423</span>
<span class=normal>424</span>
<span class=normal>425</span>
<span class=normal>426</span>
<span class=normal>427</span>
<span class=normal>428</span>
<span class=normal>429</span>
<span class=normal>430</span>
<span class=normal>431</span>
<span class=normal>432</span>
<span class=normal>433</span>
<span class=normal>434</span>
<span class=normal>435</span>
<span class=normal>436</span>
<span class=normal>437</span>
<span class=normal>438</span>
<span class=normal>439</span>
<span class=normal>440</span>
<span class=normal>441</span>
<span class=normal>442</span>
<span class=normal>443</span>
<span class=normal>444</span>
<span class=normal>445</span>
<span class=normal>446</span>
<span class=normal>447</span>
<span class=normal>448</span>
<span class=normal>449</span>
<span class=normal>450</span>
<span class=normal>451</span>
<span class=normal>452</span>
<span class=normal>453</span>
<span class=normal>454</span>
<span class=normal>455</span>
<span class=normal>456</span>
<span class=normal>457</span>
<span class=normal>458</span>
<span class=normal>459</span>
<span class=normal>460</span>
<span class=normal>461</span>
<span class=normal>462</span>
<span class=normal>463</span>
<span class=normal>464</span>
<span class=normal>465</span>
<span class=normal>466</span>
<span class=normal>467</span>
<span class=normal>468</span>
<span class=normal>469</span>
<span class=normal>470</span>
<span class=normal>471</span>
<span class=normal>472</span>
<span class=normal>473</span>
<span class=normal>474</span>
<span class=normal>475</span>
<span class=normal>476</span>
<span class=normal>477</span>
<span class=normal>478</span>
<span class=normal>479</span>
<span class=normal>480</span>
<span class=normal>481</span>
<span class=normal>482</span>
<span class=normal>483</span>
<span class=normal>484</span>
<span class=normal>485</span>
<span class=normal>486</span>
<span class=normal>487</span>
<span class=normal>488</span>
<span class=normal>489</span>
<span class=normal>490</span>
<span class=normal>491</span>
<span class=normal>492</span>
<span class=normal>493</span>
<span class=normal>494</span>
<span class=normal>495</span>
<span class=normal>496</span>
<span class=normal>497</span>
<span class=normal>498</span>
<span class=normal>499</span>
<span class=normal>500</span>
<span class=normal>501</span>
<span class=normal>502</span>
<span class=normal>503</span>
<span class=normal>504</span>
<span class=normal>505</span>
<span class=normal>506</span>
<span class=normal>507</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>diagram</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=nb>type</span><span class=p>:</span> <span class=n>Literal</span><span class=p>[</span>
        <span class=s2>&quot;pyzx&quot;</span><span class=p>,</span>
        <span class=s2>&quot;pyzx-dets&quot;</span><span class=p>,</span>
        <span class=s2>&quot;pyzx-meas&quot;</span><span class=p>,</span>
        <span class=s2>&quot;timeline-svg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;timeslice-svg&quot;</span><span class=p>,</span>
    <span class=p>]</span> <span class=o>=</span> <span class=s2>&quot;timeline-svg&quot;</span><span class=p>,</span>
    <span class=n>tick</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=nb>range</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>filter_coords</span><span class=p>:</span> <span class=n>Iterable</span><span class=p>[</span><span class=n>Iterable</span><span class=p>[</span><span class=nb>float</span><span class=p>]</span> <span class=o>|</span> <span class=n>stim</span><span class=o>.</span><span class=n>DemTarget</span><span class=p>]</span> <span class=o>=</span> <span class=p>((),),</span>
    <span class=n>rows</span><span class=p>:</span> <span class=nb>int</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>height</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=n>width</span><span class=p>:</span> <span class=nb>float</span> <span class=o>|</span> <span class=kc>None</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
    <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=n>Any</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a diagram of the circuit, from a variety of options.</span>

<span class=sd>    Args:</span>
<span class=sd>        type: The type of diagram. Available types are:</span>
<span class=sd>            &quot;pyzx&quot;: A pyzx SVG of the ZX diagram of the circuit.</span>
<span class=sd>            &quot;pyzx-dets&quot;: A pyzx SVG of the ZX diagram that is used to compute</span>
<span class=sd>                probabilities of detectors and observables.</span>
<span class=sd>            &quot;pyzx-meas&quot;: A pyzx SVG of the ZX diagram that is used to compute</span>
<span class=sd>                probabilities of measurements.</span>
<span class=sd>            &quot;timeline-svg&quot;: An SVG image of the operations applied by</span>
<span class=sd>                the circuit over time. Includes annotations showing the</span>
<span class=sd>                measurement record index that each measurement writes</span>
<span class=sd>                to, and the measurements used by detectors.</span>
<span class=sd>            &quot;timeslice-svg&quot;: An SVG image of the operations applied</span>
<span class=sd>                between two TICK instructions in the circuit, with the</span>
<span class=sd>                operations laid out in 2d.</span>
<span class=sd>        tick: Required for time slice diagrams. Specifies</span>
<span class=sd>            which TICK instruction, or range of TICK instructions, to</span>
<span class=sd>            slice at. Note that the first TICK instruction in the</span>
<span class=sd>            circuit corresponds tick=1. The value tick=0 refers to the</span>
<span class=sd>            very start of the circuit.</span>

<span class=sd>            Passing `range(A, B)` for a detector slice will show the</span>
<span class=sd>            slices for ticks A through B including A but excluding B.</span>

<span class=sd>            Passing `range(A, B)` for a time slice will show the</span>
<span class=sd>            operations between tick A and tick B.</span>
<span class=sd>        rows: In diagrams that have multiple separate pieces, such as timeslice</span>
<span class=sd>            diagrams and detslice diagrams, this controls how many rows of</span>
<span class=sd>            pieces there will be. If not specified, a number of rows that creates</span>
<span class=sd>            a roughly square layout will be chosen.</span>
<span class=sd>        filter_coords: A list of things to include in the diagram. Different</span>
<span class=sd>            effects depending on the diagram.</span>

<span class=sd>            For detslice diagrams, the filter defaults to showing all detectors</span>
<span class=sd>            and no observables. When specified, each list entry can be a collection</span>
<span class=sd>            of floats (detectors whose coordinates start with the same numbers will</span>
<span class=sd>            be included), a stim.DemTarget (specifying a detector or observable</span>
<span class=sd>            to include), a string like &quot;D5&quot; or &quot;L0&quot; specifying a detector or</span>
<span class=sd>            observable to include.</span>
<span class=sd>        height: Optional height for the rendered diagram.</span>
<span class=sd>        width: Optional width for the rendered diagram.</span>
<span class=sd>        **kwargs: Additional keyword arguments passed to the underlying diagram renderer.</span>

<span class=sd>    Returns:</span>
<span class=sd>        An object whose `__str__` method returns the diagram, so that</span>
<span class=sd>        writing the diagram to a file works correctly. The returned</span>
<span class=sd>        object may also define methods such as `_repr_html_`, so that</span>
<span class=sd>        ipython notebooks recognize it can be shown using a specialized</span>
<span class=sd>        viewer instead of as raw text.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>if</span> <span class=nb>type</span> <span class=ow>in</span> <span class=p>[</span>
        <span class=s2>&quot;timeline-svg&quot;</span><span class=p>,</span>
        <span class=s2>&quot;timeslice-svg&quot;</span><span class=p>,</span>
    <span class=p>]:</span>
        <span class=k>return</span> <span class=n>render_svg</span><span class=p>(</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>,</span>
            <span class=nb>type</span><span class=p>,</span>
            <span class=n>tick</span><span class=o>=</span><span class=n>tick</span><span class=p>,</span>
            <span class=n>filter_coords</span><span class=o>=</span><span class=n>filter_coords</span><span class=p>,</span>
            <span class=n>rows</span><span class=o>=</span><span class=n>rows</span><span class=p>,</span>
            <span class=n>width</span><span class=o>=</span><span class=n>width</span><span class=p>,</span>
            <span class=n>height</span><span class=o>=</span><span class=n>height</span><span class=p>,</span>
        <span class=p>)</span>
    <span class=k>elif</span> <span class=nb>type</span> <span class=o>==</span> <span class=s2>&quot;pyzx&quot;</span><span class=p>:</span>
        <span class=kn>from</span><span class=w> </span><span class=nn>tsim.core.graph</span><span class=w> </span><span class=kn>import</span> <span class=n>scale_horizontally</span>

        <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
        <span class=n>g</span> <span class=o>=</span> <span class=n>built</span><span class=o>.</span><span class=n>graph</span>

        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>g</span><span class=o>.</span><span class=n>vertices</span><span class=p>())</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>g</span>

        <span class=n>g</span> <span class=o>=</span> <span class=n>g</span><span class=o>.</span><span class=n>clone</span><span class=p>()</span>
        <span class=n>max_row</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>g</span><span class=o>.</span><span class=n>row</span><span class=p>(</span><span class=n>v</span><span class=p>)</span> <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>built</span><span class=o>.</span><span class=n>last_vertex</span><span class=o>.</span><span class=n>values</span><span class=p>())</span>
        <span class=k>for</span> <span class=n>q</span> <span class=ow>in</span> <span class=n>built</span><span class=o>.</span><span class=n>last_vertex</span><span class=p>:</span>
            <span class=n>g</span><span class=o>.</span><span class=n>set_row</span><span class=p>(</span><span class=n>built</span><span class=o>.</span><span class=n>last_vertex</span><span class=p>[</span><span class=n>q</span><span class=p>],</span> <span class=n>max_row</span><span class=p>)</span>

        <span class=k>if</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;scale_horizontally&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
            <span class=n>scale_horizontally</span><span class=p>(</span><span class=n>g</span><span class=p>,</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;scale_horizontally&quot;</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>))</span>
        <span class=n>zx</span><span class=o>.</span><span class=n>draw</span><span class=p>(</span><span class=n>g</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>g</span>
    <span class=k>elif</span> <span class=nb>type</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;pyzx-dets&quot;</span><span class=p>,</span> <span class=s2>&quot;pyzx-meas&quot;</span><span class=p>]:</span>
        <span class=kn>from</span><span class=w> </span><span class=nn>tsim.core.graph</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
            <span class=n>scale_horizontally</span><span class=p>,</span>
            <span class=n>squash_graph</span><span class=p>,</span>
            <span class=n>transform_error_basis</span><span class=p>,</span>
        <span class=p>)</span>

        <span class=n>g</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>get_sampling_graph</span><span class=p>(</span><span class=n>sample_detectors</span><span class=o>=</span><span class=nb>type</span> <span class=o>==</span> <span class=s2>&quot;pyzx-dets&quot;</span><span class=p>)</span>
        <span class=n>zx</span><span class=o>.</span><span class=n>full_reduce</span><span class=p>(</span><span class=n>g</span><span class=p>,</span> <span class=n>paramSafe</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
        <span class=n>g</span><span class=p>,</span> <span class=n>_</span> <span class=o>=</span> <span class=n>transform_error_basis</span><span class=p>(</span><span class=n>g</span><span class=p>)</span>
        <span class=n>squash_graph</span><span class=p>(</span><span class=n>g</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;scale_horizontally&quot;</span><span class=p>,</span> <span class=kc>False</span><span class=p>):</span>
            <span class=n>scale_horizontally</span><span class=p>(</span><span class=n>g</span><span class=p>,</span> <span class=n>kwargs</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=s2>&quot;scale_horizontally&quot;</span><span class=p>,</span> <span class=mf>1.0</span><span class=p>))</span>
        <span class=n>zx</span><span class=o>.</span><span class=n>draw</span><span class=p>(</span><span class=n>g</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=k>return</span> <span class=n>g</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>diagram</span><span class=p>(</span><span class=nb>type</span><span class=o>=</span><span class=nb>type</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>  <span class=c1># pragma: no cover</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.from_file class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">from_file</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>from_file</span><span class=p>(</span><span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Create a Circuit from a file.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>filename</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>The filename to read the circuit from.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Circuit</span> (<code>tsim.circuit.Circuit</code>)' href=#tsim.circuit.Circuit>Circuit</a></code> </td> <td> <div class=doc-md-description> <p>A new Circuit instance.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span>
<span class=normal>77</span>
<span class=normal>78</span>
<span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>from_file</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>filename</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a Circuit from a file.</span>

<span class=sd>    Args:</span>
<span class=sd>        filename: The filename to read the circuit from.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A new Circuit instance.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>filename</span><span class=p>,</span> <span class=s2>&quot;r&quot;</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s2>&quot;utf-8&quot;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
        <span class=n>stim_program_text</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
    <span class=n>stim_circ</span> <span class=o>=</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>(</span><span class=n>shorthand_to_stim</span><span class=p>(</span><span class=n>stim_program_text</span><span class=p>))</span>
    <span class=k>return</span> <span class=bp>cls</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=n>stim_circ</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.from_stim_program class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">from_stim_program</span> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>from_stim_program</span><span class=p>(</span><span class=n>stim_circuit</span><span class=p>:</span> <span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Create a Circuit from a stim.Circuit object.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>stim_circuit</code> </td> <td> <code><span title=stim.Circuit>Circuit</span></code> </td> <td> <div class=doc-md-description> <p>The stim circuit to wrap.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><a class="autorefs autorefs-internal" title='<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">Circuit</span> (<code>tsim.circuit.Circuit</code>)' href=#tsim.circuit.Circuit>Circuit</a></code> </td> <td> <div class=doc-md-description> <p>A new Circuit instance.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nd>@classmethod</span>
<span class=k>def</span><span class=w> </span><span class=nf>from_stim_program</span><span class=p>(</span><span class=bp>cls</span><span class=p>,</span> <span class=n>stim_circuit</span><span class=p>:</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Create a Circuit from a stim.Circuit object.</span>

<span class=sd>    Args:</span>
<span class=sd>        stim_circuit: The stim circuit to wrap.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A new Circuit instance.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>c</span> <span class=o>=</span> <span class=bp>cls</span><span class=o>.</span><span class=fm>__new__</span><span class=p>(</span><span class=bp>cls</span><span class=p>)</span>
    <span class=n>c</span><span class=o>.</span><span class=n>_stim_circ</span> <span class=o>=</span> <span class=n>stim_circuit</span><span class=o>.</span><span class=n>flattened</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>c</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.get_graph class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_graph</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>get_graph</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>BaseGraph</span>
</code></pre></div> <div class="doc doc-contents "> <p>Construct the ZX graph.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>528</span>
<span class=normal>529</span>
<span class=normal>530</span>
<span class=normal>531</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_graph</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>BaseGraph</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Construct the ZX graph.&quot;&quot;&quot;</span>
    <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>built</span><span class=o>.</span><span class=n>graph</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.get_sampling_graph class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">get_sampling_graph</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>get_sampling_graph</span><span class=p>(</span>
    <span class=n>sample_detectors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>BaseGraph</span>
</code></pre></div> <div class="doc doc-contents "> <p>Get a ZX graph that can be used to compute probabilities.</p> <p>This graph will be constructed as follows:</p> <ol> <li>Double the ZX-diagram by composing it with its adjoint.</li> <li>Connect all rec[i] vertices to their corresponding adjoint rec[i] vertices.</li> <li>Add outputs: (a) When sampling measurements (i.e. <code>sample_detectors</code> is False), add output nodes for each measurement. Detectors and observables are removed since they are ignored when sampling measurements. (b) When sampling detectors and observables (i.e. <code>sample_detectors</code> is True), add output nodes for each detector and observable. Only one set of detector and observable nodes is kept, i.e., detectors and observables are not composed with their adjoints.</li> </ol> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>sample_detectors</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>If True, sample detectors and observables instead of measurements.</p> </div> </td> <td> <code>False</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=pyzx_param.graph.base.BaseGraph>BaseGraph</span></code> </td> <td> <div class=doc-md-description> <p>A ZX graph for sampling.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>533</span>
<span class=normal>534</span>
<span class=normal>535</span>
<span class=normal>536</span>
<span class=normal>537</span>
<span class=normal>538</span>
<span class=normal>539</span>
<span class=normal>540</span>
<span class=normal>541</span>
<span class=normal>542</span>
<span class=normal>543</span>
<span class=normal>544</span>
<span class=normal>545</span>
<span class=normal>546</span>
<span class=normal>547</span>
<span class=normal>548</span>
<span class=normal>549</span>
<span class=normal>550</span>
<span class=normal>551</span>
<span class=normal>552</span>
<span class=normal>553</span>
<span class=normal>554</span>
<span class=normal>555</span>
<span class=normal>556</span>
<span class=normal>557</span>
<span class=normal>558</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>get_sampling_graph</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>sample_detectors</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>BaseGraph</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Get a ZX graph that can be used to compute probabilities.</span>

<span class=sd>    This graph will be constructed as follows:</span>

<span class=sd>    1. Double the ZX-diagram by composing it with its adjoint.</span>
<span class=sd>    2. Connect all rec[i] vertices to their corresponding adjoint rec[i] vertices.</span>
<span class=sd>    3. Add outputs:</span>
<span class=sd>    (a) When sampling measurements (i.e. `sample_detectors` is False),</span>
<span class=sd>        add output nodes for each measurement. Detectors and observables are</span>
<span class=sd>        removed since they are ignored when sampling measurements.</span>
<span class=sd>    (b) When sampling detectors and observables (i.e. `sample_detectors` is True),</span>
<span class=sd>        add output nodes for each detector and observable. Only one set of detector</span>
<span class=sd>        and observable nodes is kept, i.e., detectors and observables are not</span>
<span class=sd>        composed with their adjoints.</span>

<span class=sd>    Args:</span>
<span class=sd>        sample_detectors: If True, sample detectors and observables instead of</span>
<span class=sd>            measurements.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A ZX graph for sampling.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>build_sampling_graph</span><span class=p>(</span><span class=n>built</span><span class=p>,</span> <span class=n>sample_detectors</span><span class=o>=</span><span class=n>sample_detectors</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.inverse class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">inverse</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>inverse</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return the inverse of the circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>592</span>
<span class=normal>593</span>
<span class=normal>594</span>
<span class=normal>595</span>
<span class=normal>596</span>
<span class=normal>597</span>
<span class=normal>598</span>
<span class=normal>599</span>
<span class=normal>600</span>
<span class=normal>601</span>
<span class=normal>602</span>
<span class=normal>603</span>
<span class=normal>604</span>
<span class=normal>605</span>
<span class=normal>606</span>
<span class=normal>607</span>
<span class=normal>608</span>
<span class=normal>609</span>
<span class=normal>610</span>
<span class=normal>611</span>
<span class=normal>612</span>
<span class=normal>613</span>
<span class=normal>614</span>
<span class=normal>615</span>
<span class=normal>616</span>
<span class=normal>617</span>
<span class=normal>618</span>
<span class=normal>619</span>
<span class=normal>620</span>
<span class=normal>621</span>
<span class=normal>622</span>
<span class=normal>623</span>
<span class=normal>624</span>
<span class=normal>625</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>inverse</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return the inverse of the circuit.&quot;&quot;&quot;</span>
    <span class=n>inv_stim_raw</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>inverse</span><span class=p>()</span>

    <span class=c1># Stim will only invert Clifford gates (and S[T] / S_DAG[T])</span>
    <span class=c1># Post-process to fix non-Clifford rotation gates stored as I[tag]</span>
    <span class=n>inv_stim</span> <span class=o>=</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>instr</span> <span class=ow>in</span> <span class=n>inv_stim_raw</span><span class=p>:</span>
        <span class=k>assert</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>instr</span><span class=p>,</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitRepeatBlock</span><span class=p>)</span>
        <span class=n>name</span> <span class=o>=</span> <span class=n>instr</span><span class=o>.</span><span class=n>name</span>
        <span class=n>tag</span> <span class=o>=</span> <span class=n>instr</span><span class=o>.</span><span class=n>tag</span>
        <span class=n>targets</span> <span class=o>=</span> <span class=p>[</span><span class=n>t</span><span class=o>.</span><span class=n>value</span> <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>instr</span><span class=o>.</span><span class=n>targets_copy</span><span class=p>()]</span>
        <span class=n>args</span> <span class=o>=</span> <span class=n>instr</span><span class=o>.</span><span class=n>gate_args_copy</span><span class=p>()</span>

        <span class=k>if</span> <span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;I&quot;</span> <span class=ow>and</span> <span class=n>tag</span><span class=p>:</span>
            <span class=n>result</span> <span class=o>=</span> <span class=n>parse_parametric_tag</span><span class=p>(</span><span class=n>tag</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>result</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>None</span><span class=p>:</span>
                <span class=n>gate_name</span><span class=p>,</span> <span class=n>params</span> <span class=o>=</span> <span class=n>result</span>
                <span class=k>if</span> <span class=n>gate_name</span> <span class=o>==</span> <span class=s2>&quot;U3&quot;</span><span class=p>:</span>
                    <span class=c1># U3(θ, φ, λ)⁻¹ = U3(-θ, -λ, -φ)</span>
                    <span class=n>theta</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=o>-</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;theta&quot;</span><span class=p>])</span>
                    <span class=n>phi</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=o>-</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;lambda&quot;</span><span class=p>])</span>
                    <span class=n>lam</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=o>-</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;phi&quot;</span><span class=p>])</span>
                    <span class=n>new_tag</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;U3(theta=</span><span class=si>{</span><span class=n>theta</span><span class=si>}</span><span class=s2>*pi, phi=</span><span class=si>{</span><span class=n>phi</span><span class=si>}</span><span class=s2>*pi, lambda=</span><span class=si>{</span><span class=n>lam</span><span class=si>}</span><span class=s2>*pi)&quot;</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>theta</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=o>-</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;theta&quot;</span><span class=p>])</span>
                    <span class=n>new_tag</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&quot;</span><span class=si>{</span><span class=n>gate_name</span><span class=si>}</span><span class=s2>(theta=</span><span class=si>{</span><span class=n>theta</span><span class=si>}</span><span class=s2>*pi)&quot;</span>
                <span class=n>inv_stim</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&quot;I&quot;</span><span class=p>,</span> <span class=n>targets</span><span class=p>,</span> <span class=n>args</span><span class=p>,</span> <span class=n>tag</span><span class=o>=</span><span class=n>new_tag</span><span class=p>)</span>
                <span class=k>continue</span>

        <span class=c1># All other instructions are correct from stim&#39;s inverse</span>
        <span class=n>inv_stim</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instr</span><span class=p>)</span>

    <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=n>inv_stim</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.pop class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">pop</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>pop</span><span class=p>(</span><span class=n>index</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitInstruction</span>
</code></pre></div> <div class="doc doc-contents "> <p>Pops an operation from the end of the circuit, or at the given index.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>index</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Defaults to -1 (end of circuit). The index to pop from.</p> </div> </td> <td> <code>-1</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=stim.CircuitInstruction>CircuitInstruction</span></code> </td> <td> <div class=doc-md-description> <p>The popped instruction.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Raises:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code><span title=IndexError>IndexError</span></code> </td> <td> <div class=doc-md-description> <p>The given index is outside the bounds of the circuit.</p> </div> </td> </tr> </tbody> </table> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>274</span>
<span class=normal>275</span>
<span class=normal>276</span>
<span class=normal>277</span>
<span class=normal>278</span>
<span class=normal>279</span>
<span class=normal>280</span>
<span class=normal>281</span>
<span class=normal>282</span>
<span class=normal>283</span>
<span class=normal>284</span>
<span class=normal>285</span>
<span class=normal>286</span>
<span class=normal>287</span>
<span class=normal>288</span>
<span class=normal>289</span>
<span class=normal>290</span>
<span class=normal>291</span>
<span class=normal>292</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>pop</span><span class=p>(</span>
    <span class=bp>self</span><span class=p>,</span>
    <span class=n>index</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>
<span class=p>)</span> <span class=o>-&gt;</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitInstruction</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Pops an operation from the end of the circuit, or at the given index.</span>

<span class=sd>    Args:</span>
<span class=sd>        index: Defaults to -1 (end of circuit). The index to pop from.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The popped instruction.</span>

<span class=sd>    Raises:</span>
<span class=sd>        IndexError: The given index is outside the bounds of the circuit.</span>

<span class=sd>    &quot;&quot;&quot;</span>
    <span class=n>el</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>index</span><span class=p>)</span>
    <span class=k>assert</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>el</span><span class=p>,</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitRepeatBlock</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>el</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.tcount class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">tcount</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>tcount</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>int</span>
</code></pre></div> <div class="doc doc-contents "> <p>Count the number of T gates in the circuit.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>523</span>
<span class=normal>524</span>
<span class=normal>525</span>
<span class=normal>526</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>tcount</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Count the number of T gates in the circuit.&quot;&quot;&quot;</span>
    <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>zx</span><span class=o>.</span><span class=n>tcount</span><span class=p>(</span><span class=n>built</span><span class=o>.</span><span class=n>graph</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.to_matrix class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">to_matrix</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>to_matrix</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</code></pre></div> <div class="doc doc-contents "> <p>Convert circuit to matrix representation.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>516</span>
<span class=normal>517</span>
<span class=normal>518</span>
<span class=normal>519</span>
<span class=normal>520</span>
<span class=normal>521</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_matrix</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert circuit to matrix representation.&quot;&quot;&quot;</span>
    <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
    <span class=n>g</span> <span class=o>=</span> <span class=n>built</span><span class=o>.</span><span class=n>graph</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
    <span class=n>g</span><span class=o>.</span><span class=n>normalize</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>g</span><span class=o>.</span><span class=n>to_matrix</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.to_tensor class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">to_tensor</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>to_tensor</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Any</span>
</code></pre></div> <div class="doc doc-contents "> <p>Convert circuit to tensor representation.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>509</span>
<span class=normal>510</span>
<span class=normal>511</span>
<span class=normal>512</span>
<span class=normal>513</span>
<span class=normal>514</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>to_tensor</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Any</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Convert circuit to tensor representation.&quot;&quot;&quot;</span>
    <span class=n>built</span> <span class=o>=</span> <span class=n>parse_stim_circuit</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>)</span>
    <span class=n>g</span> <span class=o>=</span> <span class=n>built</span><span class=o>.</span><span class=n>graph</span><span class=o>.</span><span class=n>copy</span><span class=p>()</span>
    <span class=n>g</span><span class=o>.</span><span class=n>normalize</span><span class=p>()</span>
    <span class=k>return</span> <span class=n>g</span><span class=o>.</span><span class=n>to_tensor</span><span class=p>()</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.without_annotations class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">without_annotations</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>without_annotations</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a copy of the circuit with all annotations removed.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>302</span>
<span class=normal>303</span>
<span class=normal>304</span>
<span class=normal>305</span>
<span class=normal>306</span>
<span class=normal>307</span>
<span class=normal>308</span>
<span class=normal>309</span>
<span class=normal>310</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>without_annotations</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a copy of the circuit with all annotations removed.&quot;&quot;&quot;</span>
    <span class=n>circ</span> <span class=o>=</span> <span class=n>stim</span><span class=o>.</span><span class=n>Circuit</span><span class=p>()</span>
    <span class=k>for</span> <span class=n>instr</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=p>:</span>
        <span class=k>assert</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>instr</span><span class=p>,</span> <span class=n>stim</span><span class=o>.</span><span class=n>CircuitRepeatBlock</span><span class=p>)</span>
        <span class=k>if</span> <span class=n>instr</span><span class=o>.</span><span class=n>name</span> <span class=ow>in</span> <span class=p>[</span><span class=s2>&quot;OBSERVABLE_INCLUDE&quot;</span><span class=p>,</span> <span class=s2>&quot;DETECTOR&quot;</span><span class=p>]:</span>
            <span class=k>continue</span>
        <span class=n>circ</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>instr</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=n>circ</span><span class=p>)</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=tsim.circuit.Circuit.without_noise class="doc doc-heading"> <code class="doc-symbol doc-symbol-heading doc-symbol-method"></code> <span class="doc doc-object-name doc-function-name">without_noise</span> </h3> <div class="doc-signature highlight"><pre><span></span><code><span class=nf>without_noise</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Circuit</span>
</code></pre></div> <div class="doc doc-contents "> <p>Return a copy of the circuit with all noise removed.</p> <details class=mkdocstrings-source> <summary>Source code in <code>src/tsim/circuit.py</code></summary> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>298</span>
<span class=normal>299</span>
<span class=normal>300</span></pre></div></td><td class=code><div><pre><span></span><code><span class=k>def</span><span class=w> </span><span class=nf>without_noise</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Circuit</span><span class=p>:</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;Return a copy of the circuit with all noise removed.&quot;&quot;&quot;</span>
    <span class=k>return</span> <span class=n>Circuit</span><span class=o>.</span><span class=n>from_stim_program</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_stim_circ</span><span class=o>.</span><span class=n>without_noise</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ class="md-footer__link md-footer__link--prev" aria-label="Previous: Index"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Index </div> </div> </a> <a href=../compile/ class="md-footer__link md-footer__link--next" aria-label="Next: Index"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Index </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 QuEra Computing, Inc. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://x.com/QueraComputing target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z"/></svg> </a> <a href=https://www.linkedin.com/company/quera-computing-inc/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["announce.dismiss", "content.action.view", "content.action.edit", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "navigation.footer", "search.highlight", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../scripts/katex.js></script> <script src=https://unpkg.com/katex@0/dist/katex.min.js></script> <script src=https://unpkg.com/katex@0/dist/contrib/auto-render.min.js></script> </body> </html>